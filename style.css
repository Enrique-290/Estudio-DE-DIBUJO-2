*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;color:#111}
body{display:flex;flex-direction:column;background:#f6f7fb}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:.6rem 1rem;background:#111;color:#fff;position:sticky;top:0;z-index:30}
.topbar .actions button{margin-left:.5rem;border:0;background:#2b2b2b;color:#fff;padding:.5rem .65rem;border-radius:.6rem;cursor:pointer}
.topbar .actions button:active{transform:scale(.96)}
.toolbar{display:flex;flex-wrap:wrap;gap:1rem;padding:.6rem 1rem;background:#fff;border-bottom:1px solid #e7e7e7}
.tool{display:flex;align-items:center;gap:.5rem}
#canvasWrap{position:relative;flex:1;display:flex;align-items:center;justify-content:center;padding:0;background:#eaeef7;overflow:hidden}
#board{background:#fff;border:1px solid #dcdfe6;border-radius:.8rem;box-shadow:0 6px 18px rgba(0,0,0,.06);touch-action:none}
#overlay{position:absolute;inset:0;display:flex;align-items:flex-end;justify-content:center;gap:.6rem;padding-bottom:16px;background:rgba(255,255,255,.0);z-index:25;pointer-events:none}
#overlay[hidden]{display:none!important}
.spinner{width:22px;height:22px;border:3px solid #999;border-top-color:#111;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
#textLayer{position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none}
.text-box{position:absolute;min-width:60px;min-height:28px;background:#fff;border:1px dashed #999;border-radius:.5rem;padding:.25rem .4rem;pointer-events:auto}
.text-box[contenteditable="true"]{outline:2px solid #4c8bf5;background:#fff}
.text-print{font-family:'Segoe UI',system-ui,'Dancing Script',cursive;font-size:22px;line-height:1.2}
.ghost{border:1px solid #cfcfcf;background:#fff;padding:.45rem .7rem;border-radius:.6rem}
/* fondos */
.bg-grid{background-image:linear-gradient(to right, rgba(0,0,0,.06) 1px, transparent 1px),linear-gradient(to bottom, rgba(0,0,0,.06) 1px, transparent 1px);background-size:20px 20px}
.bg-ruled{background-image:linear-gradient(rgba(0,0,255,.12) 1px, transparent 1px);background-size:100% 28px}
.bg-dotted{background-image:radial-gradient(rgba(0,0,0,.12) 1.25px, transparent 1.25px);background-size:18px 18px}
@media (max-width: 800px){
  #board{width:95vw;height:70vh}
}
